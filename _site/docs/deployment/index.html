<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Deployment tasks &middot; EnForce
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://fundacionjala.github.io/enforce-gradle-plugin/css/poole.css">
  <link rel="stylesheet" href="http://fundacionjala.github.io/enforce-gradle-plugin/css/syntax.css">
  <link rel="stylesheet" href="http://fundacionjala.github.io/enforce-gradle-plugin/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://fundacionjala.github.io/enforce-gradle-plugin/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="http://fundacionjala.github.io/enforce-gradle-plugin/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0d">

    <div class="sidebar">
  <div class="container sidebar-sticky">
  <div class="sidebar-about">
      <h1>
        <a href="http://fundacionjala.github.io/enforce-gradle-plugin">
          EnForce
        </a>
      </h1>
    </div>
    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/documentation.html">Back</a>


    
      <h3>Gradle plugin documentation</h3>
      
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/quickstart/">Quick start</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/installation/">Installation</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/usage/">Basic usage</a>
        
      
        
      
    
      

      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/configuration/">Configuration</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/auth/">Authentication</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/faq/">FAQ</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      <h3>Features</h3>
      
      

      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/credentials/">Credentials management</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/file-monitor/">Monitoring local changes</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/package-management/">Package management</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/update/">Update</a>
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item active" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/deployment/">Deployment tasks</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/undeploy/">Undeploy</a>
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/retrieve/">Retrieve code</a>
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/unit-test/">Unit tests and Reporting</a>
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a class="sidebar-nav-item" href="http://fundacionjala.github.io/enforce-gradle-plugin/docs/utils/">Utils</a>
        
      
    
    
    

      <span class="sidebar-nav-item">Currently v1.0.0</span>
    </nav>

    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
     <div class="page">
		  <h1 class="page-title">Deployment tasks</h1>
		  <h2 id="deploy-task">Deploy task</h2>

<h4 id="objective"><strong>Objective</strong></h4>
<p>This task deploys all code from your local code to Salesforce organization, for this as a first step It truncates your local code and deploys those files truncated to Salesforce organization, as second step It deploys your local code to SatesForce organization.</p>

<h4 id="the-idea-behind-deployment-process"><strong>The idea behind deployment process</strong></h4>
<p>All code will be deployed to organization using a smart deploy that mean when execute the task deploy.</p>
<ol>
<strong>a) First step is truncate the next elements and deploy it. </strong>
    <ul>
        <li> Classes</li>
        <li> Objects</li>
        <li> Triggers</li>
        <li> Components</li>
        <li> Pages</li>
        <li> WorkFlows</li>
    </ul>
<strong>b) Second step is deploy all local code to your organization</strong>
</ol>

<h4 id="parameters"><strong>Parameters</strong></h4>
<p>This task has two parameters called <strong>excludes</strong> and <strong>folders</strong>. You can choose folder o folders to deploy it. Also you are able to exclude files by name by folder and using wildcards.</p>

<p>Those parameters can be used as console commands or into your build script.</p>

<h2 id="executing-deploy-task">Executing deploy task</h2>

<h3 id="without-parameters">Without parameters</h3>
<p>Once this task is executed without parameters it deploys all code to SalesForce organization.</p>

<pre><code>$ gradle deploy
</code></pre>

<h3 id="using-folders-parameter">Using folders parameter</h3>
<p>You can choose the folders that you want to deploy.</p>

<pre><code>$ gradle deploy -Pfolders=classes
$ gradle deploy -Pfolders=classes,triggers,objects
</code></pre>

<h3 id="using-excludes-parameter">Using excludes parameter:</h3>

<p>User can deploy code excluding some files using <strong>excludes</strong> parameter.</p>

<p><strong><em>by folders</em></strong> if you want to exclude a folder or folders, You should write the next parameter:</p>

<pre><code>$ gradle deploy -Pexcludes=classes
$ gradle deploy -Pexcludes=classes,objects.
</code></pre>

<p><strong><em>by files</em></strong> if you want to exclude a file or files, You should write the next parameter:</p>

<pre><code>$ gradle deploy -Pexcludes=classes/Class1.cls
</code></pre>

<p><strong><em>using wildcard</em></strong> if you want to exclude using wildcard, You should write the next parameter:</p>

<pre><code>$ gradle deploy  -Pexcludes=classes/**
$ gradle deploy  -Pexcludes=objects/*.object
$ gradle deploy  -Pexcludes=**/*Account*/**
$ gradle deploy  -Pexcludes=**/*.cls
</code></pre>

<h2 id="examples">Examples:</h2>

<h3 id="without-parameters-1">Without parameters</h3>

<p>Once this task is executed without parameters it deploys all local code to your organization.</p>

<p>command:</p>

<pre><code>$ gradle deploy
</code></pre>

<p>Output</p>

<pre><code class="language-bash">    :deploy
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

    Deploying truncated code
    [==================================================]   100%
    Truncated code were successfully deployed

    Starting deploy
    [==================================================]   100%
    Code were successfully deployed

    BUILD SUCCESSFUL
</code></pre>

<h3 id="using-folders-parameters">Using folders parameters</h3>

<p>You can choose folders that will be deployed.</p>

<pre><code>$ gradle deploy -Pfolders=classes,triggers
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :deploy
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

    Starting deploy...
    [==================================================]   100%
    The files were successfully deployed

    BUILD SUCCESSFUL
</code></pre>

<h3 id="using-excludes-parameters">Using excludes parameters</h3>
<p>This command deploys all files from your local respository excluding classes.</p>

<pre><code> $ gradle deploy -Pexcludes=classes
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :deploy
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

     Deploying truncated code
     [==================================================]   100%
     Truncated code were successfully deployed

     Starting deploy
     [==================================================]   100%
     Code were successfully deployed

     BUILD SUCCESSFUL
</code></pre>

<p>This command deploys all code excluding Class1.cls</p>

<pre><code>$ gradle deploy -Pexcludes=classes/Class1.cls
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :deploy
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

    Deploying truncated code
    [==================================================]   100%
    Truncated code were successfully deployed

    Starting deploy
    [==================================================]   100%
    Code were successfully deployed

    BUILD SUCCESSFUL
</code></pre>
<p>This command deploys all code excluding a folder class.</p>

<pre><code>$ gradle deploy -Pexcludes=classes/**
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :deploy
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

    Deploying truncated code
    [==================================================]   100%
    Truncated code were successfully deployed

    Starting deploy
    [==================================================]   100%
    Code were successfully deployed

    BUILD SUCCESSFUL
</code></pre>

<h2 id="upload-task">Upload task</h2>

<h4 id="objective-1"><strong>Objective</strong></h4>

<p>This task uploads your code from your local repository to SalesForce organization  directly as it is.</p>

<h4 id="parameters-1"><strong>Parameters</strong></h4>

<p>This task has two parameters called <strong>files</strong> and <strong>excludes</strong>.</p>

<p>If you want to upload a file or more files you should use files parameters it uploads code by file by folder and using wildcards.</p>

<p>If you want to exclude some files you should use excludes parameter.</p>

<h2 id="executing-upload-task">Executing upload task</h2>

<h3 id="without-parameters-2">Without parameters</h3>

<p>User can upload all source code to organization, to do this you should execute to <strong><em>upload task</em></strong> without parameters.</p>

<pre><code>$ gradle upload
</code></pre>

<h3 id="using-files-parameter">Using files parameter</h3>

<p>User can upload specific files from source code using <strong><em>files</em></strong> parameter, it supports folders, files and wildcards.</p>

<ul>
  <li>
    <p>To upload files you should write the next command:</p>

    <p>$ gradle upload -Pfiles=classes/Class1.cls<br />
  $ gradle upload -Pfiles=classes/Class1.cls,objects/Account.object</p>
  </li>
  <li>
    <p>To upload folders you should write the next command:</p>

    <p>$ gradle upload -Pfiles=classes<br />
  $ gradle upload -Pfiles=classes,objects,triggers</p>
  </li>
  <li>
    <p>To upload files using wildcards you should write the next command:</p>

    <p>$ gradle upload -Pfiles=<strong>/<em>.cls<br />
  $ gradle upload -Pfiles=classes/**<br />
  $ gradle upload -Pfiles=**/</em>Account*/</strong></p>
  </li>
</ul>

<h3 id="using-excludes-parameter-1">Using excludes parameter</h3>

<p>User can deploy code excluding some files using <strong>excludes</strong> parameter.</p>

<p><strong><em>by folders</em></strong> if you want to exclude a folder or folders, You should write the next parameter:</p>

<pre><code>    $ gradle upload -Pexcludes=classes
    $ gradle upload -Pexcludes=classes,objects.
</code></pre>

<p><strong><em>by files</em></strong> if you want to exclude a file or files, You should write the next parameter:</p>

<pre><code>    $ gradle upload -Pexcludes=classes/Class1.cls
    $ gradle upload -Pexcludes=classes/Class1.cls,objects/Object1__c.object
</code></pre>

<p><strong><em>using wildcard</em></strong> if you want to exclude using wildcard, You should write the next parameter:</p>

<pre><code>    $ gradle upload  -Pexcludes=classes/**
    $ gradle upload  -Pexcludes=objects/*.object
    $ gradle upload  -Pexcludes=**/*Account*/**
    $ gradle upload  -Pexcludes=**/*.cls
</code></pre>

<h2 id="examples-1">Examples:</h2>

<h3 id="without-parameters-3">Without parameters</h3>

<p>When you run this command all files are uploaded to organization.</p>

<pre><code>$ gradle upload
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :upload
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

    Starting deploy...
    [==================================================]   100%
    The files were successfully deployed

    BUILD SUCCESSFUL
</code></pre>

<blockquote>
  <p><strong><em>Note:</em></strong> Once upload task is executed without parameter is show you a message to confirm and upload all code.</p>
</blockquote>

<h3 id="using-files-parameter-1">Using files parameter</h3>

<p>This command just uploads classes and triggers files.</p>

<pre><code>$ gradle upload -Pfiles=classes,triggers
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :upload
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________


    Starting deploy...
    [==================================================]   100%
    The files were successfully deployed

    BUILD SUCCESSFUL
</code></pre>
<blockquote>
  <p><strong>Note:</strong> Many Folders can be added</p>
</blockquote>

<p>This command uploads class1.cls and trigger1.trigger</p>

<pre><code>$ gradle upload -Pfiles=classes/class1.cls,triggers/trigger1.trigger
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :upload
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________


    Starting deploy...
    [==================================================]   100%
    The files were successfully deployed

    BUILD SUCCESSFUL
</code></pre>

<blockquote>
  <p><strong>Note:</strong> Many Files can be added</p>
</blockquote>

<p>This command uploads Class1.cls and all triggers and all objects.</p>

<pre><code>$ gradle upload -Pfiles=classes/Class1.cls,triggers,objects
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :upload
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________


    Starting deploy...
    [==================================================]   100%
    The files were successfully deployed

    BUILD SUCCESSFUL
</code></pre>

<p>This command uploads all classes all triggers and all objects.</p>

<pre><code>$ gradle upload -Pfiles=classes/**,triggers,objects
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    :upload
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________


    Starting deploy...
    [==================================================]   100%
    The files were successfully deployed

    BUILD SUCCESSFUL
</code></pre>

<h3 id="using-excludes-parameter-2">Using excludes parameter</h3>

<p>This commando uploads all files excluding all classes.</p>

<pre><code>$ gradle upload -Pexcludes=classes
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    &gt; gradle upload
    :upload
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

     Starting deploy...
     [==================================================]   100%
     The files were successfully deployed

     BUILD SUCCESSFUL
</code></pre>
<p>This command uploads all files excluding Class1.cls</p>

<pre><code>$ gradle upload -Pexcludes=classes/Class1.cls
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    &gt; gradle upload
    :upload
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

   Starting deploy...
   [==================================================]   100%
   The files were successfully deployed

    BUILD SUCCESSFUL
</code></pre>
<p>This command uploads all files excluding all classes.</p>

<pre><code>$ gradle upload -Pexcludes=classes/**
</code></pre>

<p>Output:</p>

<pre><code class="language-bash">    &gt; gradle upload
    :upload
    ___________________________________________
            Username: juan.perez@mail.com
            Login type: login
    ___________________________________________

    Starting deploy...
    [==================================================]   100%
    The files were successfully deployed

    BUILD SUCCESSFUL
</code></pre>

<h2 id="limitations-of-upload-task">Limitations of Upload task</h2>

<ul>
  <li><strong><em>files</em></strong> parameter doesn’t support absolute paths.</li>
</ul>

	 </div>
    </div>

  </body>
</html>
